# 품질 체크리스트

> "체크리스트로 설계 품질을 검증하라."

---

## 설계 품질 체크리스트

### GRASP 패턴

```
□ 정보 전문가에게 책임을 할당했는가?
  - 정보를 가진 객체가 그 정보를 사용하는 책임을 가지는가?

□ 결합도는 낮은가?
  - 인터페이스에 의존하는가?
  - 불필요한 의존성이 없는가?

□ 응집도는 높은가?
  - 관련 있는 책임만 모여있는가?
  - 변경의 이유가 하나인가?

□ 조건문 대신 다형성을 사용했는가?
  - 타입에 따른 분기가 다형성으로 대체되었는가?

□ 변경이 예상되는 지점이 인터페이스로 보호되는가?
  - 전략, 정책 등 변경 가능한 부분이 추상화되었는가?
```

### 의존성 관리

```
□ 추상화에 의존하는가? (DIP)
  - 구체 클래스가 아닌 인터페이스에 의존하는가?

□ 디미터 법칙을 준수하는가?
  - a.b.c.d() 같은 연쇄 호출이 없는가?

□ 명령과 쿼리가 분리되었는가? (CQS)
  - 상태 변경 메서드는 void 반환
  - 값 반환 메서드는 상태 변경 X

□ 상속보다 합성을 선호했는가?
  - 코드 재사용 목적의 상속이 없는가?
  - is-a 관계가 아닌 상속이 없는가?
```

### DDD 패턴

```
□ Entity와 Value Object가 적절히 구분되었는가?
  - Entity: 식별자 있음, 가변
  - Value Object: 식별자 없음, 불변

□ Value Object는 불변인가?
  - 모든 필드가 readonly
  - 연산이 새 객체를 반환

□ Aggregate Root를 통해서만 내부 객체에 접근하는가?
  - 내부 Entity/VO에 직접 접근 불가

□ Factory가 복잡한 생성 로직을 캡슐화하는가?
  - 생성 로직이 클라이언트에 노출되지 않음

□ Repository가 영속성을 추상화하는가?
  - 도메인 계층에 인터페이스 정의
  - 인프라 계층에 구현
```

---

## 코드 품질 체크리스트

### 클래스/메서드

```
□ 클래스가 20줄 이하인가? (권장)
□ 메서드가 20줄 이하인가?
□ private 필드를 사용하는가?
□ public 메서드가 적절한가? (최소화)
□ 이름이 의도를 명확히 표현하는가?
```

### 캡슐화

```
□ 내부 상태가 외부에 노출되지 않는가?
□ Getter가 최소화되었는가?
□ 외부에서 내부 구조를 알 필요가 없는가?
```

### 테스트

```
□ 테스트가 존재하는가?
□ 테스트가 행동을 검증하는가?
□ 테스트가 독립적인가?
□ 경계값이 테스트되었는가?
□ 예외 케이스가 테스트되었는가?
```

---

## 안티패턴 점검

```
□ 빈약한 도메인 모델이 없는가?
  - 상태만 있고 행동이 없는 클래스

□ 과도한 Getter/Setter가 없는가?
  - 내부 상태를 그대로 노출

□ 신 클래스가 없는가?
  - 너무 많은 책임을 가진 클래스

□ 기차 충돌이 없는가?
  - a.b.c.d() 연쇄 호출

□ Feature Envy가 없는가?
  - 다른 객체 데이터를 과도하게 사용하는 메서드
```

---

## 최종 검증

### Phase별 확인

| Phase | 확인 항목 | 상태 |
|-------|----------|------|
| Phase 1: 분석 | 협력 시나리오 작성됨 | □ |
| Phase 1: 분석 | 메시지 추출됨 | □ |
| Phase 2: 설계 | 책임 할당 완료 | □ |
| Phase 2: 설계 | 인터페이스 정의됨 | □ |
| Phase 3: 구현 | Entity/VO 구현됨 | □ |
| Phase 3: 구현 | Factory/Repository 구현됨 | □ |
| Phase 4: 테스트 | 단위 테스트 통과 | □ |
| Phase 4: 테스트 | 리팩토링 완료 | □ |
| Phase 5: 검증 | 안티패턴 없음 | □ |
| Phase 5: 검증 | 품질 체크리스트 통과 | □ |

### 배포 가능 여부

```
모든 체크리스트 통과?
├── Yes → 배포 가능
└── No  → 해당 Phase로 돌아가서 수정
```

---

## 참고

- [GRASP 패턴](../../../principles/grasp-patterns.md)
- [SOLID 원칙](../../../principles/solid.md)
- [안티패턴](./anti-patterns.md)
