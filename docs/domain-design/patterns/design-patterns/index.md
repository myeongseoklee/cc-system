# GoF 디자인 패턴

> Gang of Four 디자인 패턴 중 실무 핵심 패턴
> "경험을 재사용하라"

---

## 서문: 패턴을 배우는 이유

| 이유 | 설명 |
|------|------|
| **공통 어휘** | "Strategy 패턴 쓰자" 한 마디로 설계 의도 전달 |
| **검증된 해결책** | 수십 년간 검증된 설계 방법 |
| **OCP 달성** | 대부분의 패턴이 확장에 열려있고 수정에 닫힌 구조 |
| **유연성** | 변경에 강한 설계 |

**주의:** 패턴은 도구일 뿐, 모든 문제에 패턴을 적용하려 하지 말 것

---

## 패턴 분류

| 분류 | 목적 | 핵심 패턴 | 문서 |
|------|------|----------|------|
| **생성 패턴** | 객체 생성 방법 추상화 | Factory Method, Abstract Factory, Builder | [creational.md](./creational.md) |
| **구조 패턴** | 객체 합성으로 새 기능 | Adapter, Decorator, Facade, Composite | [structural.md](./structural.md) |
| **행위 패턴** | 객체 간 책임 분배 | **Strategy**, **Template Method**, Observer, Command, State | [behavioral.md](./behavioral.md) |

---

## 패턴 선택 가이드

| 문제 | 해결 패턴 | 분류 |
|------|----------|------|
| 알고리즘을 런타임에 교체하고 싶다 | **Strategy** | 행위 |
| 알고리즘 골격은 고정, 일부 단계만 변경하고 싶다 | **Template Method** | 행위 |
| 상태에 따라 행동을 바꾸고 싶다 | **State** | 행위 |
| 객체 상태 변경을 여러 객체에 통지하고 싶다 | **Observer** | 행위 |
| 요청을 객체로 캡슐화하여 취소/재실행하고 싶다 | **Command** | 행위 |
| 복잡한 객체를 단계별로 생성하고 싶다 | **Builder** | 생성 |
| 관련 객체 제품군을 생성하고 싶다 | **Abstract Factory** | 생성 |
| 객체 생성을 서브클래스에 위임하고 싶다 | **Factory Method** | 생성 |
| 호환되지 않는 인터페이스를 연결하고 싶다 | **Adapter** | 구조 |
| 객체에 동적으로 기능을 추가하고 싶다 | **Decorator** | 구조 |
| 복잡한 서브시스템을 단순화하고 싶다 | **Facade** | 구조 |
| 개별/복합 객체를 동일하게 다루고 싶다 | **Composite** | 구조 |

---

## 패턴 간 관계

```
┌─────────────────────────────────────────────────────────────────┐
│                         행위 패턴                                │
│  ┌─────────┐     ┌─────────────────┐     ┌─────────┐            │
│  │Strategy │────▶│ Template Method │     │  State  │            │
│  │전체교체 │     │   일부단계교체   │     │상태전이 │            │
│  └────┬────┘     └────────┬────────┘     └────┬────┘            │
│       │                   │                   │                  │
│       └───────────────────┼───────────────────┘                  │
│                           │                                      │
│                   "다형성으로 OCP 달성"                            │
│                           │                                      │
│  ┌─────────┐         ┌────┴────┐                                │
│  │Observer │         │ Command │                                │
│  │  통지   │         │캡슐화요청│                                │
│  └─────────┘         └─────────┘                                │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                         생성 패턴                                │
│  ┌───────────────┐     ┌──────────────────┐     ┌───────────┐   │
│  │Factory Method │────▶│ Abstract Factory │     │  Builder  │   │
│  │  단일 객체    │     │   제품군 생성    │     │ 단계별    │   │
│  └───────────────┘     └──────────────────┘     └───────────┘   │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                         구조 패턴                                │
│  ┌─────────┐     ┌───────────┐     ┌────────┐     ┌───────────┐ │
│  │ Adapter │     │ Decorator │     │ Facade │     │ Composite │ │
│  │인터페이스│     │  기능추가 │     │ 단순화 │     │트리구조   │ │
│  │  변환   │     │           │     │        │     │           │ │
│  └─────────┘     └───────────┘     └────────┘     └───────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 참고

- Erich Gamma et al., "Design Patterns: Elements of Reusable Object-Oriented Software"
- Head First Design Patterns
- Martin Fowler, "Patterns of Enterprise Application Architecture"
- 조영호, "오브젝트"
